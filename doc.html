<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-2"/>
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
<script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/B21F4273-17E0-0045-9CC8-55C80C979916/main.js" charset="UTF-8"></script></head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>Název zadání (editujte)</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>První jméno <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xgrnac00@stud.fit.vutbr.cz">xgrnac00@stud.fit.vutbr.cz</a> -
		správa u¾ivatelù a u¾ivatelské rozhraní
	</dd>
	<dd>Druhé jméno <!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xflore02@stud.fit.vutbr.cz">xflore02@stud.fit.vutbr.cz</a> - 
		databázový subsystém
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://www.stud.fit.vutbr.cz/~xflore02/IIS">http://www.stud.fit.vutbr.cz/~xflore02/IIS</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<table>
<tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>reference</td><td>reference</td><td>Pou¾ivatel</td></tr>
<tr><td>admin</td><td>Catbook123</td><td>Administrátor</td></tr>
</table>

<h2>Implementace</h2>
<p>Poèiatoèná stránka je prihlasovací formulár pomocou ktorého sa mô¾eme prihlási» alebo sa mô¾eme dosta» k registraènému formuláru. V prípade, ¾e sa chceme prihlási» tak po vyplnení údajov sa zavolá skript verificate.php ktorý skontroluje prihlasovacie údaje pou¾ívateµa v databáze. V prípade, ¾e sú správne, pustí ho na welcome.php stránku, v prípade, ¾e sú nesprávne, presmeruje ho spä» na prihlasovací formulár s chybovou hlá¹kou. Pre jednoduchos» implementácie sú prihlasovacie mená a heslá nijakým spôsobom ne¹ifrované. V skutoènom systéme by v databáze boli ulo¾ené hashe hesiel. V prípade, ¾e sa presmerujeme na registraèný formulár, vidíme jednotlivé polia ktoré musíme vyplni». V¹etky sú povinné. Po vyplnení údajov sa spustí javascript, ktorý skontroluje validitu údajov a v prípade, ¾e nejaký údaj nie je v poriadku, tak vyhodí javascript alert. Následne sa zavolá skript newaccount.php a zapí¹e sa informácia o úète do SQL databázy do tabuliek cats a lives a presmeruje nás na prihlasovací formulár. Keï sa prihlásime, tak sa dostaneme na prvú stránku welcome.php ktorá obsahuje novinky zo systému. Zobrazujú sa tu novinky ktoré sú nov¹ie ako 7 dní. Zobrazujú sa tu novinky o nových mo¾ných vlastníkoch maèiek. O nových predmetoch v systéme ktoré si mô¾u maèky zabra» a takisto nové teritória ktoré mô¾u zabra». Tieto informácie sa nachádzajú v tabuµke news. Ako ïal¹iu mo¾nos» v menu máme profile. Tá nás zoberie na profil maèky kde sú zhrnuté údaje z tabuliek cats,owners a races. Ïalej si tu mô¾e u¾ívateµ zmeni» svojho majiteµa. Ako ïal¹iu mo¾nos» tu sú teritória (territories.php). Tu mô¾eme hore vidie» dropdown menu a tlaèítko na potvrdenie. Dropdown menu obsahuje v¹etky dostupné teritóriá, ktoré sú v systéme. Pod òou sa nachádza tabuµka aktívne okupovaných teritórií. Kde v ståpci napravo mô¾eme za¹krtnú» checkbox ktoré teritórium chce pou¾ívateµ opusti». Zavolá sa skript editterritories.php kde sa zaznamená u za¹krtnutých okupácií ¾e ich maèka opustila. Pod touto tabuµkou je tabuµka okupovaných teritórií a dátumy od kedy do kedy boli okupované. Ïalej je tu zálo¾ka property (properties.php) kde sú uchované informácie o majetku maèiek. Na vrchu stránky máme zase formulár o vytvorení informácie o novom majetku. Tu si u¾ívateµ musí vybra» aký majetok má v akom teritóriu. A vybra» poèet kusov. Zavolá sa skript newproperty.php ktorý vytvorí záznam o novom vlastníctve. Rovnako ako v predchádzajúcom prípade s teritóriámi mô¾eme pomocou checkboxu vybra» vlastníctva ktoré chceme zahodi». A zavolá sa skript editproperties.php ktorý doplní dátum ukonèenia vlastníctva èím sa zahodí. Tu si v¹ak musíme da» pozor, preto¾e v zálo¾ke "LOANS" mô¾eme vlastníctvo prepo¾ièa» vlastníkovi maèky, ale keï je dané vlastníctvo prepo¾ièané, nemô¾eme ho zahodi». Musíme ho najskôr od majiteµa zobra» a a¾ potom ho mô¾eme zahodi». Ïal¹ia zálo¾ka je LOANS kde mô¾eme z mno¾iny vlastníctiev vybra» tie, ktoré chceme prepo¾ièa» majiteµovi. Skript newlease.php . A v spodnej tabuµke mô¾eme prepo¾ièané predmety od majiteµa znovu zobra». Posledná zálo¾ka v menu je "LIVES" kde sú ¾ivoty maèky pri poslednom (momentálnom) ¾ivote si mô¾e vybra» kde umrela a dôvod jej smrti. Následne sa zavolá newlife.php ktorá k momentálnemu ¾ivotu pridá dátum úmrtia a vytvorí ïal¹í ¾ivot, kde miesto narodenia je miesto úmrtia predchádzajúceho ¾ivota. 9 ¾ivotov je maximálny poèet. Keï sa prihlásime do systému ako administrátor mô¾eme pridáva» a odobera» rôzne veci do systému a zo systému ako u¾ívateµov, rasy, vlastníkov maèiek, predmety, teritóriá a tak podobne. V¹etky skripty sú obsiahnuté v prieèinku SUPERUSER. Niektoré zmeny, ktoré prevedie admin sa ukladajú do noviniek pre pou¾ívateµov.</p>

<h2>Instalace</h2>
<ul>
<li>Stranka nevyu¾íva nijaké frameworky</li>
<li>Vyu¾íva PHP5 a MySQL</li>
<li>Pre vzhµad HTML a CSS</li>
<li>Prilo¾ené SQL dostane databázu do fáze s referenèným stavom</li>
</ul>

<h2>Známé problémy</h2>
<p>Hor¹ie spracované administrátorské menu. Nesmú sa maza» prvky, ktoré u¾ boli pou¾ívané pou¾ívateµmi, preto¾e to rozbije konzistenciu dát. Mô¾u sa iba maza» dáta ktoré neboli pou¾ívané napr keï admin urobil preklep. Niektoré funkcie chýbajú napr. odstránenie rasy, pridanie farieb a patentov maèiek . V¹etky problémy a nedostatky sú spôsobené nedostatkom èasu. Nestíhame ITU.</p>

</body>
</html>
